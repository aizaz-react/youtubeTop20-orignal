{"ast":null,"code":"import _regeneratorRuntime from\"/home/aizaz/Desktop/SparkAi/changes/blog1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/aizaz/Desktop/SparkAi/changes/blog1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/aizaz/Desktop/SparkAi/changes/blog1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/home/aizaz/Desktop/SparkAi/changes/blog1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useState,useEffect}from\"react\";import ClickAwayListener from\"@material-ui/core/ClickAwayListener\";import SearchIcon from\"@material-ui/icons/Search\";import{getUniqueTags}from\"../../Services/GlobalServices\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CustomSearchWithTags=function CustomSearchWithTags(_ref){var colorSelector=_ref.colorSelector,props=_objectWithoutProperties(_ref,[\"colorSelector\"]);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showMenuBar=_useState2[0],setshowMenuBar=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),menuText=_useState4[0],setMenuText=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),filterTagsData=_useState6[0],setFilterTagsData=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),oldMenuText=_useState8[0],setOldMenuText=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),tagsData=_useState10[0],setTagsData=_useState10[1];useEffect(function(){props.updateMenuText(menuText);},[menuText]);var getTags=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$getUniqueTags,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getUniqueTags();case 3:_yield$getUniqueTags=_context.sent;data=_yield$getUniqueTags.data;setTagsData(data.Data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function getTags(){return _ref2.apply(this,arguments);};}();useEffect(function(){getTags();},[]);var handleClickAwayFromSearchRegion=function handleClickAwayFromSearchRegion(){if(showMenuBar){setshowMenuBar(false);}if(menuText===\"\"){setMenuText(oldMenuText);}};var handelRegionChange=function handelRegionChange(e){if(e.target.value===\"\"){setFilterTagsData([]);setshowMenuBar(false);setMenuText(e.target.value);}else{var filterData=tagsData.filter(function(v){return v.toLowerCase().startsWith(e.target.value.toLowerCase());});setFilterTagsData(filterData);setshowMenuBar(true);setMenuText(e.target.value);}};var handelMenuFocus=function handelMenuFocus(){setMenuText(\"\");setshowMenuBar(false);};var handelSelector=function handelSelector(){if(filterTagsData.length>0){setshowMenuBar(!showMenuBar);}else{setFilterTagsData(tagsData);setshowMenuBar(false);}};var handelMenuClick=function handelMenuClick(e){setMenuText(e.target.textContent);setshowMenuBar(false);setOldMenuText(e.target.textContent);};return/*#__PURE__*/_jsx(ClickAwayListener,{onClickAway:handleClickAwayFromSearchRegion,children:/*#__PURE__*/_jsxs(\"div\",{id:\"searchinputmain\",children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n        \\n        .selectorMenu {\\n          font-size: 17px;\\n          background:\".concat(colorSelector?\"#424242\":\"white\",\"; \\n          position: absolute;\\n          width: 90%;\\n          top: 40px;\\n          left: 10px;\\n          max-height: 300px;\\n        \\n          overflow: auto;\\n          overflow-x: hidden;\\n\\n          z-index: 500;\\n        }\\n        .selectorMenu p {\\n          padding-bottom: 5px;\\n          padding-left: 5px;\\n          padding-top: 7px;\\n          cursor: pointer;\\n          color:\").concat(colorSelector?\"white\":\"black\",\"; \\n        }\\n        \\n        .selectorMenu p:hover {\\n         \\n          background: \").concat(colorSelector?\"black\":\"#e7e7e7\",\"; \\n        }\\n        .selectorMenu div:hover {\\n         \\n          background: \").concat(colorSelector?\"#616161\":\"#e7e7e7\",\"; \\n        }\\n        .selectorMenu div p:hover {\\n         \\n          background: \").concat(colorSelector?\"#616161\":\"#e7e7e7\",\"; \\n        }\\n        .mobileInfoVideo{\\n          padding-bottom: 20px;\\n           position: relative;\\n           z-index: \").concat(showMenuBar?\"-1\":\"0\",\"; \\n        }\\n        .mobileSearchButton{\\n         \\n           z-index: \").concat(showMenuBar?\"-1\":\"0\",\"; \\n        }\\n        \\n        \")}),/*#__PURE__*/_jsx(\"input\",{className:colorSelector?\"searchInputDark\":\"searchInput\",value:menuText,onChange:handelRegionChange,onFocus:handelMenuFocus,placeholder:\"Search Custom Tags\"}),showMenuBar&&/*#__PURE__*/_jsx(\"div\",{className:\"selectorMenu\",style:{zIndex:\"8000\"},children:filterTagsData.length>0&&filterTagsData.map(function(item,index){return/*#__PURE__*/_jsx(\"p\",{onClick:handelMenuClick,children:item},index);})}),/*#__PURE__*/_jsx(SearchIcon,{id:colorSelector?\"searchinputiconDark\":\"searchinputicon\",onClick:handelSelector}),/*#__PURE__*/_jsx(\"div\",{id:colorSelector?\"helloDark\":\"hello\"})]})});};export default CustomSearchWithTags;","map":{"version":3,"sources":["/home/aizaz/Desktop/SparkAi/changes/blog1/src/Components/CustomComponents/CustomSearchWithTags.jsx"],"names":["React","useState","useEffect","ClickAwayListener","SearchIcon","getUniqueTags","CustomSearchWithTags","colorSelector","props","showMenuBar","setshowMenuBar","menuText","setMenuText","filterTagsData","setFilterTagsData","oldMenuText","setOldMenuText","tagsData","setTagsData","updateMenuText","getTags","data","Data","console","log","handleClickAwayFromSearchRegion","handelRegionChange","e","target","value","filterData","filter","v","toLowerCase","startsWith","handelMenuFocus","handelSelector","length","handelMenuClick","textContent","zIndex","map","item","index"],"mappings":"ipBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qCAA9B,CACA,MAAOC,CAAAA,UAAP,KAAuB,2BAAvB,CACA,OAASC,aAAT,KAA8B,+BAA9B,C,wFAEA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,MAAiC,IAA9BC,CAAAA,aAA8B,MAA9BA,aAA8B,CAAZC,KAAY,gEACtBP,QAAQ,CAAC,KAAD,CADc,wCACrDQ,WADqD,eACxCC,cADwC,8BAE5BT,QAAQ,CAAC,EAAD,CAFoB,yCAErDU,QAFqD,eAE3CC,WAF2C,8BAGhBX,QAAQ,CAAC,EAAD,CAHQ,yCAGrDY,cAHqD,eAGrCC,iBAHqC,8BAItBb,QAAQ,CAAC,EAAD,CAJc,yCAIrDc,WAJqD,eAIxCC,cAJwC,8BAK5Bf,QAAQ,CAAC,EAAD,CALoB,0CAKrDgB,QALqD,gBAK3CC,WAL2C,gBAO5DhB,SAAS,CAAC,UAAM,CACdM,KAAK,CAACW,cAAN,CAAqBR,QAArB,EACD,CAFQ,CAEN,CAACA,QAAD,CAFM,CAAT,CAIA,GAAIS,CAAAA,OAAO,2FAAG,uMAEWf,CAAAA,aAAa,EAFxB,2CAEJgB,IAFI,sBAEJA,IAFI,CAIVH,WAAW,CAACG,IAAI,CAACC,IAAN,CAAX,CAJU,+EAMVC,OAAO,CAACC,GAAR,cANU,oEAAH,kBAAPJ,CAAAA,OAAO,2CAAX,CAUAlB,SAAS,CAAC,UAAM,CACdkB,OAAO,GACR,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAIK,CAAAA,+BAA+B,CAAG,QAAlCA,CAAAA,+BAAkC,EAAM,CAC1C,GAAIhB,WAAJ,CAAiB,CACfC,cAAc,CAAC,KAAD,CAAd,CACD,CACD,GAAIC,QAAQ,GAAK,EAAjB,CAAqB,CACnBC,WAAW,CAACG,WAAD,CAAX,CACD,CACF,CAPD,CASA,GAAIW,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,CAAD,CAAO,CAC9B,GAAIA,CAAC,CAACC,MAAF,CAASC,KAAT,GAAmB,EAAvB,CAA2B,CACzBf,iBAAiB,CAAC,EAAD,CAAjB,CACAJ,cAAc,CAAC,KAAD,CAAd,CACAE,WAAW,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACD,CAJD,IAIO,CACL,GAAIC,CAAAA,UAAU,CAAGb,QAAQ,CAACc,MAAT,CAAgB,SAACC,CAAD,QAC/BA,CAAAA,CAAC,CAACC,WAAF,GAAgBC,UAAhB,CAA2BP,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeI,WAAf,EAA3B,CAD+B,EAAhB,CAAjB,CAIAnB,iBAAiB,CAACgB,UAAD,CAAjB,CACApB,cAAc,CAAC,IAAD,CAAd,CACAE,WAAW,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACD,CACF,CAdD,CAeA,GAAIM,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC1BvB,WAAW,CAAC,EAAD,CAAX,CACAF,cAAc,CAAC,KAAD,CAAd,CACD,CAHD,CAIA,GAAI0B,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CACzB,GAAIvB,cAAc,CAACwB,MAAf,CAAwB,CAA5B,CAA+B,CAC7B3B,cAAc,CAAC,CAACD,WAAF,CAAd,CACD,CAFD,IAEO,CACLK,iBAAiB,CAACG,QAAD,CAAjB,CACAP,cAAc,CAAC,KAAD,CAAd,CACD,CACF,CAPD,CASA,GAAI4B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACX,CAAD,CAAO,CAC3Bf,WAAW,CAACe,CAAC,CAACC,MAAF,CAASW,WAAV,CAAX,CACA7B,cAAc,CAAC,KAAD,CAAd,CACAM,cAAc,CAACW,CAAC,CAACC,MAAF,CAASW,WAAV,CAAd,CACD,CAJD,CAKA,mBACE,KAAC,iBAAD,EAAmB,WAAW,CAAEd,+BAAhC,uBACE,aAAK,EAAE,CAAC,iBAAR,wBACE,uHAIelB,aAAa,CAAG,SAAH,CAAe,OAJ3C,6ZAqBUA,aAAa,CAAG,OAAH,CAAa,OArBpC,uGA0BgBA,aAAa,CAAG,OAAH,CAAa,SA1B1C,+FA8BgBA,aAAa,CAAG,SAAH,CAAe,SA9B5C,iGAkCgBA,aAAa,CAAG,SAAH,CAAe,SAlC5C,2IAuCcE,WAAW,CAAG,IAAH,CAAU,GAvCnC,wFA2CcA,WAAW,CAAG,IAAH,CAAU,GA3CnC,uCADF,cAgDE,cACE,SAAS,CAAEF,aAAa,CAAG,iBAAH,CAAuB,aADjD,CAEE,KAAK,CAAEI,QAFT,CAGE,QAAQ,CAAEe,kBAHZ,CAIE,OAAO,CAAES,eAJX,CAKE,WAAW,CAAC,oBALd,EAhDF,CAuDG1B,WAAW,eACV,YAAK,SAAS,CAAC,cAAf,CAA8B,KAAK,CAAE,CAAE+B,MAAM,CAAE,MAAV,CAArC,UACG3B,cAAc,CAACwB,MAAf,CAAwB,CAAxB,EACCxB,cAAc,CAAC4B,GAAf,CAAmB,SAACC,IAAD,CAAOC,KAAP,CAAiB,CAClC,mBACE,UAAG,OAAO,CAAEL,eAAZ,UACGI,IADH,EAAkCC,KAAlC,CADF,CAKD,CAND,CAFJ,EAxDJ,cAoEE,KAAC,UAAD,EACE,EAAE,CAAEpC,aAAa,CAAG,qBAAH,CAA2B,iBAD9C,CAEE,OAAO,CAAE6B,cAFX,EApEF,cAwEE,YAAK,EAAE,CAAE7B,aAAa,CAAG,WAAH,CAAiB,OAAvC,EAxEF,GADF,EADF,CA8ED,CAjJD,CAmJA,cAAeD,CAAAA,oBAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { getUniqueTags } from \"../../Services/GlobalServices\";\n\nconst CustomSearchWithTags = ({ colorSelector, ...props }) => {\n  const [showMenuBar, setshowMenuBar] = useState(false);\n  const [menuText, setMenuText] = useState(\"\");\n  const [filterTagsData, setFilterTagsData] = useState([]);\n  const [oldMenuText, setOldMenuText] = useState(\"\");\n  const [tagsData, setTagsData] = useState([]);\n\n  useEffect(() => {\n    props.updateMenuText(menuText);\n  }, [menuText]);\n\n  let getTags = async () => {\n    try {\n      let { data } = await getUniqueTags();\n\n      setTagsData(data.Data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getTags();\n  }, []);\n\n  let handleClickAwayFromSearchRegion = () => {\n    if (showMenuBar) {\n      setshowMenuBar(false);\n    }\n    if (menuText === \"\") {\n      setMenuText(oldMenuText);\n    }\n  };\n\n  let handelRegionChange = (e) => {\n    if (e.target.value === \"\") {\n      setFilterTagsData([]);\n      setshowMenuBar(false);\n      setMenuText(e.target.value);\n    } else {\n      let filterData = tagsData.filter((v) =>\n        v.toLowerCase().startsWith(e.target.value.toLowerCase())\n      );\n\n      setFilterTagsData(filterData);\n      setshowMenuBar(true);\n      setMenuText(e.target.value);\n    }\n  };\n  let handelMenuFocus = () => {\n    setMenuText(\"\");\n    setshowMenuBar(false);\n  };\n  let handelSelector = () => {\n    if (filterTagsData.length > 0) {\n      setshowMenuBar(!showMenuBar);\n    } else {\n      setFilterTagsData(tagsData);\n      setshowMenuBar(false);\n    }\n  };\n\n  let handelMenuClick = (e) => {\n    setMenuText(e.target.textContent);\n    setshowMenuBar(false);\n    setOldMenuText(e.target.textContent);\n  };\n  return (\n    <ClickAwayListener onClickAway={handleClickAwayFromSearchRegion}>\n      <div id=\"searchinputmain\">\n        <style>{`\n        \n        .selectorMenu {\n          font-size: 17px;\n          background:${colorSelector ? \"#424242\" : \"white\"}; \n          position: absolute;\n          width: 90%;\n          top: 40px;\n          left: 10px;\n          max-height: 300px;\n        \n          overflow: auto;\n          overflow-x: hidden;\n\n          z-index: 500;\n        }\n        .selectorMenu p {\n          padding-bottom: 5px;\n          padding-left: 5px;\n          padding-top: 7px;\n          cursor: pointer;\n          color:${colorSelector ? \"white\" : \"black\"}; \n        }\n        \n        .selectorMenu p:hover {\n         \n          background: ${colorSelector ? \"black\" : \"#e7e7e7\"}; \n        }\n        .selectorMenu div:hover {\n         \n          background: ${colorSelector ? \"#616161\" : \"#e7e7e7\"}; \n        }\n        .selectorMenu div p:hover {\n         \n          background: ${colorSelector ? \"#616161\" : \"#e7e7e7\"}; \n        }\n        .mobileInfoVideo{\n          padding-bottom: 20px;\n           position: relative;\n           z-index: ${showMenuBar ? \"-1\" : \"0\"}; \n        }\n        .mobileSearchButton{\n         \n           z-index: ${showMenuBar ? \"-1\" : \"0\"}; \n        }\n        \n        `}</style>\n        <input\n          className={colorSelector ? \"searchInputDark\" : \"searchInput\"}\n          value={menuText}\n          onChange={handelRegionChange}\n          onFocus={handelMenuFocus}\n          placeholder=\"Search Custom Tags\"\n        />\n        {showMenuBar && (\n          <div className=\"selectorMenu\" style={{ zIndex: \"8000\" }}>\n            {filterTagsData.length > 0 &&\n              filterTagsData.map((item, index) => {\n                return (\n                  <p onClick={handelMenuClick} key={index}>\n                    {item}\n                  </p>\n                );\n              })}\n          </div>\n        )}\n\n        <SearchIcon\n          id={colorSelector ? \"searchinputiconDark\" : \"searchinputicon\"}\n          onClick={handelSelector}\n        />\n        <div id={colorSelector ? \"helloDark\" : \"hello\"}></div>\n      </div>\n    </ClickAwayListener>\n  );\n};\n\nexport default CustomSearchWithTags;\n"]},"metadata":{},"sourceType":"module"}