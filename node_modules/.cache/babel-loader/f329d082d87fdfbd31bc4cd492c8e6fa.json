{"ast":null,"code":"import _regeneratorRuntime from\"/home/aizaz/Desktop/SparkAi/changes/blog1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/aizaz/Desktop/SparkAi/changes/blog1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/aizaz/Desktop/SparkAi/changes/blog1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Grid}from\"@material-ui/core\";import SearchIcon from\"@material-ui/icons/Search\";import ExpandMoreIcon from\"@material-ui/icons/ExpandMore\";import Button from\"@material-ui/core/Button\";import Calendar from\"react-calendar\";import\"react-calendar/dist/Calendar.css\";import moment from\"moment\";import{Hidden}from\"@material-ui/core\";import{getUniqueRegions,getUserLocation}from\"../Services/GlobalServices\";import{useDispatch,useSelector}from\"react-redux\";import{top20DataAction,hot20DataAction,regionsDataAction,setTabValue,setCallUserLocation,getGlobalTrending}from\"../action/GlobalAction\";import ClickAwayListener from\"@material-ui/core/ClickAwayListener\";import Backdrop from\"@material-ui/core/Backdrop\";import CircularProgress from\"@material-ui/core/CircularProgress\";import{makeStyles}from\"@material-ui/core/styles\";import Tabs from\"@material-ui/core/Tabs\";import Tab from\"@material-ui/core/Tab\";import CustomSelectorWithTick from\"./CustomComponents/CustomSelectorWithTick\";import CustomSelector from\"./CustomComponents/CustomSelector\";import{globalSearch}from\"../Functions/GlobalFunctions\";import CustomSearchWithTags from\"./CustomComponents/CustomSearchWithTags\";import Zoom from\"@material-ui/core/Zoom\";import Tooltip from\"@material-ui/core/Tooltip\";import{withStyles}from\"@material-ui/core/styles\";import colorIcon from\"./images/color.svg\";import darkIcon from\"./images/dark.svg\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{backdrop:{zIndex:theme.zIndex.drawer+1,color:\"#fff\"}};});var BlueOnGreenTooltip=withStyles({tooltip:{color:\"white\",backgroundColor:\"gray\",fontSize:16},arrow:{fontSize:20,\"&::before\":{backgroundColor:\"gray\"}}})(Tooltip);var BlackOnGreenTooltip=withStyles({tooltip:{color:\"white\",backgroundColor:\"#0f478c\",fontSize:16},arrow:{fontSize:20,\"&::before\":{backgroundColor:\"#0f478c\"}}})(Tooltip);var SearchingSection=function SearchingSection(){var dispatch=useDispatch();var locationNeed=useSelector(function(state){return state.globalData.callUserLocation;});var classes=useStyles();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loadBackdrop=_useState2[0],setLoadBackdrop=_useState2[1];var colorSelector=useSelector(function(state){return state.globalData.colorState;});var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),listOfRegions=_useState4[0],setListOfRegions=_useState4[1];var _useState5=useState(\"All\"),_useState6=_slicedToArray(_useState5,2),tabText=_useState6[0],setTabText=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),customTags=_useState8[0],setCustomTags=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),userCountry=_useState10[0],setUserCountry=_useState10[1];var getUserLocationData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$getUserLocatio,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoadBackdrop(true);_context.next=4;return getUserLocation();case 4:_yield$getUserLocatio=_context.sent;data=_yield$getUserLocatio.data;setUserCountry(data.ip.country);dispatch(setCallUserLocation(false));_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);setLoadBackdrop(false);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function getUserLocationData(){return _ref.apply(this,arguments);};}();var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),calander=_useState12[0],setCalander=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),showCalander=_useState14[0],setShowCalander=_useState14[1];var handelDayClick=function handelDayClick(e){var dateValue=moment(e).format(\"yyyy-MM-DD\");setCalander(dateValue);setShowCalander(false);};var handelCalanderShow=function handelCalanderShow(){setShowCalander(!showCalander);};var top20Data=useSelector(function(state){return state.globalData.top20Videos;});var notify=function notify(){return toast.info(\"ðŸ˜¢ Sorry! No Viral Videos Found For This Region.\",{position:\"top-right\",autoClose:5000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});};var getTodaysVideo=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(customDate,customRegion,customTag){var reload,result,top,hot,_args2=arguments;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:reload=_args2.length>3&&_args2[3]!==undefined?_args2[3]:true;_context2.prev=1;setLoadBackdrop(true);_context2.next=5;return globalSearch(customDate,customRegion,customTag);case 5:result=_context2.sent;if(result.Data.top20.Data.length>0){top=result.Data.top20.Data;hot=result.Data.hot20.Data;top.forEach(function(element,index){element.hotData=hot[index];});dispatch(top20DataAction(result.Data.top20.Data));dispatch(hot20DataAction(result.Data.hot20.Data));setTimeout(function(){setLoadBackdrop(false);},100);}else{notify();dispatch(getGlobalTrending(true));setTimeout(function(){dispatch(getGlobalTrending(false));},5000);}// if (reload) {\n//   window.location.reload();\n// }\n_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);setLoadBackdrop(false);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[1,9]]);}));return function getTodaysVideo(_x,_x2,_x3){return _ref2.apply(this,arguments);};}();useEffect(function(){var dateValue=moment().format(\"yyyy-MM-DD\");setCalander(dateValue);},[]);var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),showMenuBar=_useState16[0],setshowMenuBar=_useState16[1];var regionData=useSelector(function(state){return state.globalData.regions;});var getRegions=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var _yield$getUniqueRegio,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;setLoadBackdrop(true);_context3.next=4;return getUniqueRegions();case 4:_yield$getUniqueRegio=_context3.sent;data=_yield$getUniqueRegio.data;data.Data.unshift(\"Global\");_context3.next=9;return dispatch(regionsDataAction(data.Data));case 9:if(locationNeed){getUserLocationData();}_context3.next=16;break;case 12:_context3.prev=12;_context3.t0=_context3[\"catch\"](0);setLoadBackdrop(false);console.log(_context3.t0);case 16:case\"end\":return _context3.stop();}}},_callee3,null,[[0,12]]);}));return function getRegions(){return _ref3.apply(this,arguments);};}();var handleClickAway=function handleClickAway(){if(showCalander){setShowCalander(false);}};var handelSearch=function handelSearch(){getTodaysVideo(calander,listOfRegions,customTags===\"\"?\"All\":customTags);};var _useState17=useState(\"Global\"),_useState18=_slicedToArray(_useState17,2),selectorRegion=_useState18[0],setSelectorRegion=_useState18[1];var updateAllData=function updateAllData(e,reloadText){setSelectorRegion(e);getTodaysVideo(moment().format(\"yyyy-MM-DD\"),e,\"All\",reloadText);setValue(0);};useEffect(function(){if(locationNeed){getRegions();}},[]);var handelCalanderChange=function handelCalanderChange(){};var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),filterRegionData=_useState20[0],setFilterRegionData=_useState20[1];var tabValue=useSelector(function(state){return state.globalData.tabValue;});var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),advanceSearch=_useState22[0],setAdvanceSearch=_useState22[1];var _useState23=useState(0),_useState24=_slicedToArray(_useState23,2),value=_useState24[0],setValue=_useState24[1];useEffect(function(){setValue(tabValue);},[tabValue]);var handleChange=function handleChange(event,newValue){var tabsArray=[\"All\",\"Music\",\"Movies\",\"Sports\",\"Gaming\"];dispatch(setTabValue(newValue));getTodaysVideo(moment().format(\"yyyy-MM-DD\"),selectorRegion,tabsArray[newValue]);setTabText(tabsArray[newValue]);};var updateSearchTags=function updateSearchTags(value){setCustomTags(value);};var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),tabToolTip=_useState26[0],setTabToolTip=_useState26[1];var handleClickAwayTabToolTip=function handleClickAwayTabToolTip(){setTabToolTip(false);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Hidden,{only:[\"md\",\"lg\",\"xl\"],children:[/*#__PURE__*/_jsx(ToastContainer,{position:\"top-right\",autoClose:5000,hideProgressBar:false,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:true}),/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(Backdrop,{className:classes.backdrop,open:loadBackdrop,children:/*#__PURE__*/_jsx(CircularProgress,{color:\"inherit\"})}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,style:{paddingLeft:\"2%\",paddingRight:\"2%\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,style:{paddingRight:\"4%\",display:advanceSearch?\"none\":\"block\"},children:/*#__PURE__*/_jsx(CustomSelector,{colorSelector:colorSelector,regionData:regionData,locationMenuText:userCountry,updateData:function updateData(value1,value2){updateAllData(value1,value2);}})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,style:{display:!advanceSearch?\"flex\":\"none\",width:\"100%\",justifyContent:\"center\"},children:[colorSelector?/*#__PURE__*/_jsx(ClickAwayListener,{onClickAway:handleClickAwayTabToolTip,children:/*#__PURE__*/_jsx(BlackOnGreenTooltip,{title:\"These buttons search (viral videos) by #hashtag within the region selected.  For more results select Global (top of the list) from the drop down menu.\",arrow:true,TransitionComponent:Zoom,open:tabToolTip,children:/*#__PURE__*/_jsx(\"img\",{src:colorIcon,style:{marginRight:\"10px\"},className:\"infoIconClass\",onClick:function onClick(){return setTabToolTip(true);}})})}):/*#__PURE__*/_jsx(ClickAwayListener,{onClickAway:handleClickAwayTabToolTip,children:/*#__PURE__*/_jsx(BlueOnGreenTooltip,{title:\"These buttons search (viral videos) by #hashtag within the region selected.  For more results select Global (top of the list) from the drop down menu.\",arrow:true,TransitionComponent:Zoom,open:tabToolTip,children:/*#__PURE__*/_jsx(\"img\",{src:darkIcon,style:{marginRight:\"10px\"},className:\"infoIconClass\",onClick:function onClick(){return setTabToolTip(true);}})})}),/*#__PURE__*/_jsx(Tabs,{onChange:handleChange,textColor:\"primary\",TabIndicatorProps:{style:{display:\"none\"}}// variant=\"scrollable\"\n,\"aria-label\":\"scrollable auto tabs example\",id:\"desktopTab\",value:value,children:[\"All\",\"Music\",\"Movies\",\"Sports\",\"Gaming\"].map(function(item,index){return/*#__PURE__*/_jsx(Tab,{label:item,id:value===index?\"tabStyleActive\":\"tabStyle\"},index);})})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Button,{style:{height:\"41px\",width:\"100%\",fontWeight:\"bold\",color:!colorSelector?\"#3F51B5\":\"white\",marginTop:!advanceSearch?\"-40px\":\"0px\",marginBottom:advanceSearch?\"-5px\":\"-15px\",border:colorSelector?\"2px solid white\":\"2px solid #3F51B5\"},onClick:function onClick(){return setAdvanceSearch(!advanceSearch);},children:!advanceSearch?\"Advanced Search\":\"Basic Search\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,style:{paddingRight:\"4%\",display:advanceSearch?\"block\":\"none\"},children:/*#__PURE__*/_jsx(ClickAwayListener,{onClickAway:handleClickAway,children:/*#__PURE__*/_jsxs(\"div\",{id:\"searchinputmain\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"2021-04-22\",className:colorSelector?\"searchInputDark\":\"searchInput\",value:calander!==null?calander:\"\",onChange:handelCalanderChange}),/*#__PURE__*/_jsx(ExpandMoreIcon,{id:colorSelector?\"searchinputiconDark\":\"searchinputicon\",onClick:handelCalanderShow}),/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",top:\"45px\",display:showCalander?\"flex\":\"none\"},children:/*#__PURE__*/_jsx(Calendar,{onClickDay:handelDayClick,maxDate:new Date()})})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,style:{display:advanceSearch?\"block\":\"none\",paddingRight:\"4%\",zIndex:showCalander?\"0\":\"500\"},children:/*#__PURE__*/_jsx(CustomSelectorWithTick,{colorSelector:colorSelector,regionData:regionData,locationMenuText:userCountry,updateCountries:function updateCountries(value){setListOfRegions(value);}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,style:{display:advanceSearch?\"block\":\"none\",paddingRight:\"4%\",zIndex:\"0\"},children:/*#__PURE__*/_jsx(CustomSearchWithTags,{colorSelector:colorSelector,updateMenuText:function updateMenuText(value){return updateSearchTags(value);}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,style:{justifyContent:\"center\",paddingRight:\"5px\",display:advanceSearch?\"block\":\"none\",marginBottom:\"10px\"},className:\"showVisiblity mobileSearchButton\",children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",style:{height:\"41px\",width:\"100%\",background:!colorSelector?\"#3F51B5\":\"#616161\"},onClick:handelSearch,children:\"Search\"})}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n        #tabStyleActive {\\n          border-radius: 50px;\\n          margin-left: 2px;\\n          margin-right: 2px;\\n          min-width: 40px;\\n          min-height: 10px;\\n       \\n         background:\".concat(colorSelector?\"#616161\":\"#3f51b5\",\"; \\n          font-size: 8px;\\n        \\n          color: white;\\n          box-shadow: 1px 2px 1px -1px rgb(0 0 0 / 20%),\\n            0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\\n        }\\n        #tabStyle {\\n          border-radius: 50px;\\n        \\n          background: white;\\n          margin-left: 2px;\\n          margin-right: 2px;\\n          min-height: 10px;\\n          min-width: 40px;\\n        \\n          color: black;\\n          box-shadow: 1px 2px 1px -1px rgb(0 0 0 / 20%),\\n            0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\\n          font-size: 8px;\\n        }\\n       .infoIconClass{\\n         width:25px;\\n         height:25px;\\n       }\\n\\n\\n        @media only screen and (max-width: 355px) {\\n        \\n          #tabStyleActive {\\n            border-radius: 40px;\\n            margin-left: 1px;\\n            margin-right: 1px;\\n            min-width: 30px;\\n            min-height: 7px;\\n            background:\").concat(colorSelector?\"#616161\":\"#3f51b5\",\"; \\n            font-size: 6px;\\n            color: white;\\n            box-shadow: 1px 2px 1px -1px rgb(0 0 0 / 20%),\\n              0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\\n          }\\n          #tabStyle {\\n            border-radius: 40px;\\n            background: white;\\n            margin-left: 2px;\\n            margin-right: 2px;\\n            min-width: 30px;\\n            min-height: 7px;\\n          \\n            color: black;\\n            box-shadow: 1px 2px 1px -1px rgb(0 0 0 / 20%),\\n              0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\\n            font-size: 8px;\\n          }\\n        }\\n        @media only screen and (max-width: 280px) {\\n          .infoIconClass{\\n            width:23px;\\n            height:23px;\\n          }\\n          #tabStyleActive {\\n            border-radius: 20px;\\n            margin-left: 1px;\\n            margin-right: 1px;\\n            min-width: 20px;\\n            min-height: 7px;\\n            background:\").concat(colorSelector?\"#616161\":\"#3f51b5\",\"; \\n            font-size: 5px;\\n            color: white;\\n            box-shadow: 1px 2px 1px -1px rgb(0 0 0 / 20%),\\n              0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\\n          }\\n          #tabStyle {\\n            border-radius: 20px;\\n            background: white;\\n            margin-left: 1px;\\n            margin-right: 1px;\\n            min-width: 15px;\\n            min-height: 6px;\\n          \\n            color: black;\\n            box-shadow: 1px 2px 1px -1px rgb(0 0 0 / 20%),\\n              0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\\n            font-size: 5px;\\n          }\\n        }\\n        @media screen and (max-width: 1024px) and (min-width: 768px) {\\n       \\n        \\n          #tabStyleActive {\\n            border-radius: 50px;\\n            margin-left: 7px;\\n            margin-right: 7px;\\n            min-width: 100px;\\n            min-height: 10px;\\n         \\n           background:\").concat(colorSelector?\"#424242\":\"#3f51b5\",\"; \\n            font-size: 16px;\\n          \\n            color: white;\\n            box-shadow: 1px 2px 1px -1px rgb(0 0 0 / 20%),\\n              0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\\n          }\\n          #tabStyle {\\n            border-radius: 50px;\\n          \\n            background: white;\\n            margin-left: 7px;\\n            margin-right: 7px;\\n            min-height: 10px;\\n            min-width: 100px;\\n          \\n            color: black;\\n            box-shadow: 1px 2px 1px -1px rgb(0 0 0 / 20%),\\n              0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\\n            font-size: 16px;\\n          }\\n        }\\n        \\n\\n\")})]})]})});};export default SearchingSection;","map":{"version":3,"sources":["/home/aizaz/Desktop/SparkAi/changes/blog1/src/Components/SearchingSection.js"],"names":["React","useState","useEffect","Grid","SearchIcon","ExpandMoreIcon","Button","Calendar","moment","Hidden","getUniqueRegions","getUserLocation","useDispatch","useSelector","top20DataAction","hot20DataAction","regionsDataAction","setTabValue","setCallUserLocation","getGlobalTrending","ClickAwayListener","Backdrop","CircularProgress","makeStyles","Tabs","Tab","CustomSelectorWithTick","CustomSelector","globalSearch","CustomSearchWithTags","Zoom","Tooltip","withStyles","ToastContainer","toast","useStyles","theme","backdrop","zIndex","drawer","color","BlueOnGreenTooltip","tooltip","backgroundColor","fontSize","arrow","BlackOnGreenTooltip","SearchingSection","dispatch","locationNeed","state","globalData","callUserLocation","classes","loadBackdrop","setLoadBackdrop","colorSelector","colorState","listOfRegions","setListOfRegions","tabText","setTabText","customTags","setCustomTags","userCountry","setUserCountry","getUserLocationData","data","ip","country","calander","setCalander","showCalander","setShowCalander","handelDayClick","e","dateValue","format","handelCalanderShow","top20Data","top20Videos","notify","info","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","getTodaysVideo","customDate","customRegion","customTag","reload","result","Data","top20","length","top","hot","hot20","forEach","element","index","hotData","setTimeout","showMenuBar","setshowMenuBar","regionData","regions","getRegions","unshift","console","log","handleClickAway","handelSearch","selectorRegion","setSelectorRegion","updateAllData","reloadText","setValue","handelCalanderChange","filterRegionData","setFilterRegionData","tabValue","advanceSearch","setAdvanceSearch","value","handleChange","event","newValue","tabsArray","updateSearchTags","tabToolTip","setTabToolTip","handleClickAwayTabToolTip","paddingLeft","paddingRight","display","value1","value2","width","justifyContent","colorIcon","marginRight","darkIcon","style","map","item","height","fontWeight","marginTop","marginBottom","border","Date","background"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Button from \"@material-ui/core/Button\";\nimport Calendar from \"react-calendar\";\nimport \"react-calendar/dist/Calendar.css\";\nimport moment from \"moment\";\nimport { Hidden } from \"@material-ui/core\";\n\nimport { getUniqueRegions, getUserLocation } from \"../Services/GlobalServices\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  top20DataAction,\n  hot20DataAction,\n  regionsDataAction,\n  setTabValue,\n  setCallUserLocation,\n  getGlobalTrending,\n} from \"../action/GlobalAction\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport CustomSelectorWithTick from \"./CustomComponents/CustomSelectorWithTick\";\nimport CustomSelector from \"./CustomComponents/CustomSelector\";\nimport { globalSearch } from \"../Functions/GlobalFunctions\";\nimport CustomSearchWithTags from \"./CustomComponents/CustomSearchWithTags\";\nimport Zoom from \"@material-ui/core/Zoom\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport colorIcon from \"./images/color.svg\";\nimport darkIcon from \"./images/dark.svg\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#fff\",\n  },\n}));\n\nconst BlueOnGreenTooltip = withStyles({\n  tooltip: {\n    color: \"white\",\n    backgroundColor: \"gray\",\n    fontSize: 16,\n  },\n  arrow: {\n    fontSize: 20,\n    \"&::before\": {\n      backgroundColor: \"gray\",\n    },\n  },\n})(Tooltip);\n\nconst BlackOnGreenTooltip = withStyles({\n  tooltip: {\n    color: \"white\",\n    backgroundColor: \"#0f478c\",\n    fontSize: 16,\n  },\n  arrow: {\n    fontSize: 20,\n    \"&::before\": {\n      backgroundColor: \"#0f478c\",\n    },\n  },\n})(Tooltip);\n\nconst SearchingSection = () => {\n  const dispatch = useDispatch();\n  const locationNeed = useSelector(\n    (state) => state.globalData.callUserLocation\n  );\n  const classes = useStyles();\n  const [loadBackdrop, setLoadBackdrop] = useState(false);\n  const colorSelector = useSelector((state) => state.globalData.colorState);\n  const [listOfRegions, setListOfRegions] = useState([]);\n  const [tabText, setTabText] = useState(\"All\");\n\n  const [customTags, setCustomTags] = useState(\"\");\n\n  const [userCountry, setUserCountry] = useState(\"\");\n\n  let getUserLocationData = async () => {\n    try {\n      setLoadBackdrop(true);\n\n      let { data } = await getUserLocation();\n      setUserCountry(data.ip.country);\n\n      dispatch(setCallUserLocation(false));\n    } catch (error) {\n      setLoadBackdrop(false);\n    }\n  };\n\n  const [calander, setCalander] = useState(null);\n  const [showCalander, setShowCalander] = useState(false);\n  let handelDayClick = (e) => {\n    let dateValue = moment(e).format(\"yyyy-MM-DD\");\n    setCalander(dateValue);\n    setShowCalander(false);\n  };\n\n  let handelCalanderShow = () => {\n    setShowCalander(!showCalander);\n  };\n  const top20Data = useSelector((state) => state.globalData.top20Videos);\n\n  const notify = () =>\n    toast.info(\"ðŸ˜¢ Sorry! No Viral Videos Found For This Region.\", {\n      position: \"top-right\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n    });\n\n  let getTodaysVideo = async (\n    customDate,\n    customRegion,\n    customTag,\n    reload = true\n  ) => {\n    try {\n      setLoadBackdrop(true);\n\n      let result = await globalSearch(customDate, customRegion, customTag);\n\n      if (result.Data.top20.Data.length > 0) {\n        let top = result.Data.top20.Data;\n        let hot = result.Data.hot20.Data;\n        top.forEach(function (element, index) {\n          element.hotData = hot[index];\n        });\n\n        dispatch(top20DataAction(result.Data.top20.Data));\n        dispatch(hot20DataAction(result.Data.hot20.Data));\n        setTimeout(() => {\n          setLoadBackdrop(false);\n        }, 100);\n      } else {\n        notify();\n\n        dispatch(getGlobalTrending(true));\n\n        setTimeout(() => {\n          dispatch(getGlobalTrending(false));\n        }, 5000);\n      }\n      // if (reload) {\n      //   window.location.reload();\n      // }\n    } catch (error) {\n      setLoadBackdrop(false);\n    }\n  };\n\n  useEffect(() => {\n    let dateValue = moment().format(\"yyyy-MM-DD\");\n    setCalander(dateValue);\n  }, []);\n  const [showMenuBar, setshowMenuBar] = useState(false);\n\n  const regionData = useSelector((state) => state.globalData.regions);\n\n  let getRegions = async () => {\n    try {\n      setLoadBackdrop(true);\n      let { data } = await getUniqueRegions();\n      data.Data.unshift(\"Global\");\n      await dispatch(regionsDataAction(data.Data));\n      if (locationNeed) {\n        getUserLocationData();\n      }\n    } catch (error) {\n      setLoadBackdrop(false);\n\n      console.log(error);\n    }\n  };\n\n  let handleClickAway = () => {\n    if (showCalander) {\n      setShowCalander(false);\n    }\n  };\n\n  let handelSearch = () => {\n    getTodaysVideo(\n      calander,\n      listOfRegions,\n      customTags === \"\" ? \"All\" : customTags\n    );\n  };\n  const [selectorRegion, setSelectorRegion] = useState(\"Global\");\n\n  let updateAllData = (e, reloadText) => {\n    setSelectorRegion(e);\n    getTodaysVideo(moment().format(\"yyyy-MM-DD\"), e, \"All\", reloadText);\n\n    setValue(0);\n  };\n\n  useEffect(() => {\n    if (locationNeed) {\n      getRegions();\n    }\n  }, []);\n  let handelCalanderChange = () => {};\n  const [filterRegionData, setFilterRegionData] = useState([]);\n  const tabValue = useSelector((state) => state.globalData.tabValue);\n\n  const [advanceSearch, setAdvanceSearch] = useState(false);\n  const [value, setValue] = useState(0);\n\n  useEffect(() => {\n    setValue(tabValue);\n  }, [tabValue]);\n\n  const handleChange = (event, newValue) => {\n    let tabsArray = [\"All\", \"Music\", \"Movies\", \"Sports\", \"Gaming\"];\n\n    dispatch(setTabValue(newValue));\n    getTodaysVideo(\n      moment().format(\"yyyy-MM-DD\"),\n      selectorRegion,\n      tabsArray[newValue]\n    );\n    setTabText(tabsArray[newValue]);\n  };\n\n  let updateSearchTags = (value) => {\n    setCustomTags(value);\n  };\n\n  const [tabToolTip, setTabToolTip] = useState(false);\n\n  let handleClickAwayTabToolTip = () => {\n    setTabToolTip(false);\n  };\n\n  return (\n    <>\n      <Hidden only={[\"md\", \"lg\", \"xl\"]}>\n        <ToastContainer\n          position=\"top-right\"\n          autoClose={5000}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n        {/* Same as */}\n        <ToastContainer />\n        <Backdrop className={classes.backdrop} open={loadBackdrop}>\n          <CircularProgress color=\"inherit\" />\n        </Backdrop>\n\n        <Grid\n          container\n          spacing={2}\n          style={{ paddingLeft: \"2%\", paddingRight: \"2%\" }}\n        >\n          <Grid\n            item\n            xs={12}\n            style={{\n              paddingRight: \"4%\",\n              display: advanceSearch ? \"none\" : \"block\",\n            }}\n          >\n            <CustomSelector\n              colorSelector={colorSelector}\n              regionData={regionData}\n              locationMenuText={userCountry}\n              updateData={(value1, value2) => {\n                updateAllData(value1, value2);\n              }}\n            />\n          </Grid>\n\n          {/* advance search and search button */}\n\n          <Grid\n            item\n            xs={12}\n            style={{\n              display: !advanceSearch ? \"flex\" : \"none\",\n              width: \"100%\",\n              justifyContent: \"center\",\n            }}\n          >\n            {colorSelector ? (\n              <ClickAwayListener onClickAway={handleClickAwayTabToolTip}>\n                <BlackOnGreenTooltip\n                  title=\"These buttons search (viral videos) by #hashtag within the region selected.  For more results select Global (top of the list) from the drop down menu.\"\n                  arrow\n                  TransitionComponent={Zoom}\n                  open={tabToolTip}\n                >\n                  <img\n                    src={colorIcon}\n                    style={{\n                      marginRight: \"10px\",\n                    }}\n                    className=\"infoIconClass\"\n                    onClick={() => setTabToolTip(true)}\n                  />\n                </BlackOnGreenTooltip>\n              </ClickAwayListener>\n            ) : (\n              <ClickAwayListener onClickAway={handleClickAwayTabToolTip}>\n                <BlueOnGreenTooltip\n                  title=\"These buttons search (viral videos) by #hashtag within the region selected.  For more results select Global (top of the list) from the drop down menu.\"\n                  arrow\n                  TransitionComponent={Zoom}\n                  open={tabToolTip}\n                >\n                  <img\n                    src={darkIcon}\n                    style={{\n                      marginRight: \"10px\",\n                    }}\n                    className=\"infoIconClass\"\n                    onClick={() => setTabToolTip(true)}\n                  />\n                </BlueOnGreenTooltip>\n              </ClickAwayListener>\n            )}\n\n            <Tabs\n              onChange={handleChange}\n              textColor=\"primary\"\n              TabIndicatorProps={{\n                style: {\n                  display: \"none\",\n                },\n              }}\n              // variant=\"scrollable\"\n              aria-label=\"scrollable auto tabs example\"\n              id=\"desktopTab\"\n              value={value}\n            >\n              {[\"All\", \"Music\", \"Movies\", \"Sports\", \"Gaming\"].map(\n                (item, index) => {\n                  return (\n                    <Tab\n                      label={item}\n                      key={index}\n                      id={value === index ? \"tabStyleActive\" : \"tabStyle\"}\n                    />\n                  );\n                }\n              )}\n            </Tabs>\n          </Grid>\n          <Grid item xs={12}>\n            <Button\n              style={{\n                height: \"41px\",\n                width: \"100%\",\n                fontWeight: \"bold\",\n                color: !colorSelector ? \"#3F51B5\" : \"white\",\n                marginTop: !advanceSearch ? \"-40px\" : \"0px\",\n                marginBottom: advanceSearch ? \"-5px\" : \"-15px\",\n                border: colorSelector ? \"2px solid white\" : \"2px solid #3F51B5\",\n              }}\n              onClick={() => setAdvanceSearch(!advanceSearch)}\n            >\n              {!advanceSearch ? \"Advanced Search\" : \"Basic Search\"}\n            </Button>\n          </Grid>\n          <Grid\n            item\n            xs={12}\n            style={{\n              paddingRight: \"4%\",\n              display: advanceSearch ? \"block\" : \"none\",\n            }}\n          >\n            <ClickAwayListener onClickAway={handleClickAway}>\n              <div id=\"searchinputmain\">\n                <input\n                  placeholder=\"2021-04-22\"\n                  className={colorSelector ? \"searchInputDark\" : \"searchInput\"}\n                  value={calander !== null ? calander : \"\"}\n                  onChange={handelCalanderChange}\n                />\n                <ExpandMoreIcon\n                  id={colorSelector ? \"searchinputiconDark\" : \"searchinputicon\"}\n                  onClick={handelCalanderShow}\n                />\n                <div\n                  style={{\n                    position: \"absolute\",\n                    top: \"45px\",\n                    display: showCalander ? \"flex\" : \"none\",\n                  }}\n                >\n                  <Calendar onClickDay={handelDayClick} maxDate={new Date()} />\n                </div>\n              </div>\n            </ClickAwayListener>\n          </Grid>\n\n          <Grid\n            item\n            xs={12}\n            style={{\n              display: advanceSearch ? \"block\" : \"none\",\n              paddingRight: \"4%\",\n              zIndex: showCalander ? \"0\" : \"500\",\n            }}\n          >\n            <CustomSelectorWithTick\n              colorSelector={colorSelector}\n              regionData={regionData}\n              locationMenuText={userCountry}\n              updateCountries={(value) => {\n                setListOfRegions(value);\n              }}\n            />\n          </Grid>\n\n          <Grid\n            item\n            xs={12}\n            style={{\n              display: advanceSearch ? \"block\" : \"none\",\n              paddingRight: \"4%\",\n              zIndex: \"0\",\n            }}\n          >\n            {/* <div id=\"searchinputmain\">\n              <input\n                placeholder=\"Search Custom Tag\"\n                className={colorSelector ? \"searchInputDark\" : \"searchInput\"}\n                onChange={handelCustomTagsChanges}\n                value={customTags}\n              />\n              <SearchIcon\n                id={colorSelector ? \"searchinputiconDark\" : \"searchinputicon\"}\n              />\n            </div> */}\n            <CustomSearchWithTags\n              colorSelector={colorSelector}\n              updateMenuText={(value) => updateSearchTags(value)}\n            />\n          </Grid>\n\n          <Grid\n            item\n            xs={12}\n            style={{\n              justifyContent: \"center\",\n              paddingRight: \"5px\",\n\n              display: advanceSearch ? \"block\" : \"none\",\n              marginBottom: \"10px\",\n            }}\n            className=\"showVisiblity mobileSearchButton\"\n          >\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              style={{\n                height: \"41px\",\n                width: \"100%\",\n                background: !colorSelector ? \"#3F51B5\" : \"#616161\",\n              }}\n              onClick={handelSearch}\n            >\n              Search\n            </Button>\n          </Grid>\n\n          <style>{`\n        #tabStyleActive {\n          border-radius: 50px;\n          margin-left: 2px;\n          margin-right: 2px;\n          min-width: 40px;\n          min-height: 10px;\n       \n         background:${colorSelector ? \"#616161\" : \"#3f51b5\"}; \n          font-size: 8px;\n        \n          color: white;\n          box-shadow: 1px 2px 1px -1px rgb(0 0 0 / 20%),\n            0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n        }\n        #tabStyle {\n          border-radius: 50px;\n        \n          background: white;\n          margin-left: 2px;\n          margin-right: 2px;\n          min-height: 10px;\n          min-width: 40px;\n        \n          color: black;\n          box-shadow: 1px 2px 1px -1px rgb(0 0 0 / 20%),\n            0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n          font-size: 8px;\n        }\n       .infoIconClass{\n         width:25px;\n         height:25px;\n       }\n\n\n        @media only screen and (max-width: 355px) {\n        \n          #tabStyleActive {\n            border-radius: 40px;\n            margin-left: 1px;\n            margin-right: 1px;\n            min-width: 30px;\n            min-height: 7px;\n            background:${colorSelector ? \"#616161\" : \"#3f51b5\"}; \n            font-size: 6px;\n            color: white;\n            box-shadow: 1px 2px 1px -1px rgb(0 0 0 / 20%),\n              0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n          }\n          #tabStyle {\n            border-radius: 40px;\n            background: white;\n            margin-left: 2px;\n            margin-right: 2px;\n            min-width: 30px;\n            min-height: 7px;\n          \n            color: black;\n            box-shadow: 1px 2px 1px -1px rgb(0 0 0 / 20%),\n              0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n            font-size: 8px;\n          }\n        }\n        @media only screen and (max-width: 280px) {\n          .infoIconClass{\n            width:23px;\n            height:23px;\n          }\n          #tabStyleActive {\n            border-radius: 20px;\n            margin-left: 1px;\n            margin-right: 1px;\n            min-width: 20px;\n            min-height: 7px;\n            background:${colorSelector ? \"#616161\" : \"#3f51b5\"}; \n            font-size: 5px;\n            color: white;\n            box-shadow: 1px 2px 1px -1px rgb(0 0 0 / 20%),\n              0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n          }\n          #tabStyle {\n            border-radius: 20px;\n            background: white;\n            margin-left: 1px;\n            margin-right: 1px;\n            min-width: 15px;\n            min-height: 6px;\n          \n            color: black;\n            box-shadow: 1px 2px 1px -1px rgb(0 0 0 / 20%),\n              0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n            font-size: 5px;\n          }\n        }\n        @media screen and (max-width: 1024px) and (min-width: 768px) {\n       \n        \n          #tabStyleActive {\n            border-radius: 50px;\n            margin-left: 7px;\n            margin-right: 7px;\n            min-width: 100px;\n            min-height: 10px;\n         \n           background:${colorSelector ? \"#424242\" : \"#3f51b5\"}; \n            font-size: 16px;\n          \n            color: white;\n            box-shadow: 1px 2px 1px -1px rgb(0 0 0 / 20%),\n              0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n          }\n          #tabStyle {\n            border-radius: 50px;\n          \n            background: white;\n            margin-left: 7px;\n            margin-right: 7px;\n            min-height: 10px;\n            min-width: 100px;\n          \n            color: black;\n            box-shadow: 1px 2px 1px -1px rgb(0 0 0 / 20%),\n              0px 1px 1px 0px rgb(0 0 0 / 14%), 0px 1px 3px 0px rgb(0 0 0 / 12%);\n            font-size: 16px;\n          }\n        }\n        \n\n`}</style>\n        </Grid>\n      </Hidden>\n    </>\n  );\n};\n\nexport default SearchingSection;\n"]},"metadata":{},"sourceType":"module"}