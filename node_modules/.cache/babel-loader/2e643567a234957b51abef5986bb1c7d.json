{"ast":null,"code":"import _toConsumableArray from\"/home/aizaz/Desktop/SparkAi/changes/blog1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/aizaz/Desktop/SparkAi/changes/blog1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/home/aizaz/Desktop/SparkAi/changes/blog1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useState,useEffect}from\"react\";import ClickAwayListener from\"@material-ui/core/ClickAwayListener\";import ExpandMoreIcon from\"@material-ui/icons/ExpandMore\";import Checkbox from\"@material-ui/core/Checkbox\";import _ from\"lodash\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CustomSelectorWithTick=function CustomSelectorWithTick(_ref){var filterData=_ref.filterData,colorSelector=_ref.colorSelector,regionData=_ref.regionData,locationMenuText=_ref.locationMenuText,props=_objectWithoutProperties(_ref,[\"filterData\",\"colorSelector\",\"regionData\",\"locationMenuText\"]);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showMenuBar=_useState2[0],setshowMenuBar=_useState2[1];var _useState3=useState(\"Global\"),_useState4=_slicedToArray(_useState3,2),menuText=_useState4[0],setMenuText=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),filterRegionData=_useState6[0],setFilterRegionData=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),oldMenuText=_useState8[0],setOldMenuText=_useState8[1];var _useState9=useState([\"Global\"]),_useState10=_slicedToArray(_useState9,2),checkedData=_useState10[0],setCheckedData=_useState10[1];// useEffect(() => {\n//   if (locationMenuText !== \"\" && regionData.length > 0) {\n//     let result = regionData.filter((item) => {\n//       return item === locationMenuText;\n//     });\n//     if (result.length > 0) {\n//       setCheckedData([...checkedData, locationMenuText]);\n//       setOldMenuText(menuText);\n//       setMenuText(locationMenuText);\n//     } else {\n//       setMenuText(\"Global\");\n//       setCheckedData([...checkedData, \"Global\"]);\n//       setOldMenuText(menuText);\n//     }\n//   }\n// }, [locationMenuText]);\nuseEffect(function(){if(checkedData.length<1){setMenuText(\"Global\");}else{var newArray=checkedData.join(\"-\");setMenuText(newArray);}},[checkedData]);var handleClickAwayFromSearchRegion=function handleClickAwayFromSearchRegion(){if(showMenuBar){setshowMenuBar(false);}if(menuText===\"\"){setMenuText(oldMenuText);}};useEffect(function(){props.updateCountries(menuText);},[menuText]);var handelRegionChange=function handelRegionChange(e){var p=Array.from(e.target.value.toLowerCase()).reduce(function(a,v,i){return\"\".concat(a,\"[^\").concat(e.target.value.toLowerCase().substr(i),\"]*?\").concat(v);},\"\");var re=RegExp(p);var filterData=regionData.filter(function(v){return v.toLowerCase().match(re);});setFilterRegionData(filterData);setshowMenuBar(true);setMenuText(e.target.value);};var handelMenuFocus=function handelMenuFocus(){if(filterRegionData.length<1){setFilterRegionData(regionData);}setshowMenuBar(true);};var handelSelector=function handelSelector(){if(filterRegionData.length>0){setshowMenuBar(!showMenuBar);}else{setFilterRegionData(regionData);setshowMenuBar(true);}};var handelMenuClick=function handelMenuClick(e){setMenuText(e.target.textContent);setshowMenuBar(false);setOldMenuText(e.target.textContent);};var getCheckedData=function getCheckedData(e){var global=[\"Global\"];if(e===\"Global\"){var sup1=checkedData.filter(function(item){return item===e;});if(sup1.length>0){setCheckedData([]);}else{setCheckedData(global);}}else{var sup=checkedData.filter(function(item){return item===e;});if(sup.length>0){setCheckedData(checkedData.filter(function(item){return item!==sup[0];}));}else{var data=_toConsumableArray(checkedData);var index=data.indexOf(\"Global\");if(index>-1){data.splice(index,1);}setCheckedData([].concat(_toConsumableArray(data),[e]));}}};var getFilterData=function getFilterData(e){var sup=checkedData.filter(function(item){return item===e;});if(sup.length>0){return true;}else{return false;}};return/*#__PURE__*/_jsx(ClickAwayListener,{onClickAway:handleClickAwayFromSearchRegion,children:/*#__PURE__*/_jsxs(\"div\",{id:\"searchinputmain\",children:[/*#__PURE__*/_jsx(\"input\",{className:colorSelector?\"searchInputDark\":\"searchInput\",value:menuText,onChange:handelRegionChange,onFocus:handelMenuFocus}),showMenuBar&&/*#__PURE__*/_jsx(\"div\",{className:\"selectorMenu\",style:{zIndex:\"8000\"},children:filterRegionData.length>0&&filterRegionData.map(function(item,index){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",border:\"1px solid #c4c4c4\"},children:[/*#__PURE__*/_jsx(Checkbox,{style:{color:colorSelector?\"black\":\"#3F51B5\"},onChange:function onChange(){return getCheckedData(item);},checked:getFilterData(item)}),/*#__PURE__*/_jsx(\"p\",{children:item})]},index);})}),/*#__PURE__*/_jsx(ExpandMoreIcon,{id:colorSelector?\"searchinputiconDark\":\"searchinputicon\",onClick:handelSelector}),/*#__PURE__*/_jsx(\"div\",{id:colorSelector?\"helloDark\":\"hello\"})]})});};export default CustomSelectorWithTick;","map":{"version":3,"sources":["/home/aizaz/Desktop/SparkAi/changes/blog1/src/Components/CustomComponents/CustomSelectorWithTick.jsx"],"names":["React","useState","useEffect","ClickAwayListener","ExpandMoreIcon","Checkbox","_","CustomSelectorWithTick","filterData","colorSelector","regionData","locationMenuText","props","showMenuBar","setshowMenuBar","menuText","setMenuText","filterRegionData","setFilterRegionData","oldMenuText","setOldMenuText","checkedData","setCheckedData","length","newArray","join","handleClickAwayFromSearchRegion","updateCountries","handelRegionChange","e","p","Array","from","target","value","toLowerCase","reduce","a","v","i","substr","re","RegExp","filter","match","handelMenuFocus","handelSelector","handelMenuClick","textContent","getCheckedData","global","sup1","item","sup","data","index","indexOf","splice","getFilterData","zIndex","map","display","border","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport _ from \"lodash\";\nconst CustomSelectorWithTick = ({\n  filterData,\n  colorSelector,\n  regionData,\n  locationMenuText,\n  ...props\n}) => {\n  const [showMenuBar, setshowMenuBar] = useState(false);\n  const [menuText, setMenuText] = useState(\"Global\");\n  const [filterRegionData, setFilterRegionData] = useState([]);\n  const [oldMenuText, setOldMenuText] = useState(\"\");\n  const [checkedData, setCheckedData] = useState([\"Global\"]);\n\n  // useEffect(() => {\n  //   if (locationMenuText !== \"\" && regionData.length > 0) {\n  //     let result = regionData.filter((item) => {\n  //       return item === locationMenuText;\n  //     });\n  //     if (result.length > 0) {\n  //       setCheckedData([...checkedData, locationMenuText]);\n  //       setOldMenuText(menuText);\n  //       setMenuText(locationMenuText);\n  //     } else {\n  //       setMenuText(\"Global\");\n  //       setCheckedData([...checkedData, \"Global\"]);\n\n  //       setOldMenuText(menuText);\n  //     }\n  //   }\n  // }, [locationMenuText]);\n\n  useEffect(() => {\n    if (checkedData.length < 1) {\n      setMenuText(\"Global\");\n    } else {\n      var newArray = checkedData.join(\"-\");\n      setMenuText(newArray);\n    }\n  }, [checkedData]);\n\n  let handleClickAwayFromSearchRegion = () => {\n    if (showMenuBar) {\n      setshowMenuBar(false);\n    }\n    if (menuText === \"\") {\n      setMenuText(oldMenuText);\n    }\n  };\n\n  useEffect(() => {\n    props.updateCountries(menuText);\n  }, [menuText]);\n\n  let handelRegionChange = (e) => {\n    const p = Array.from(e.target.value.toLowerCase()).reduce(\n      (a, v, i) => `${a}[^${e.target.value.toLowerCase().substr(i)}]*?${v}`,\n      \"\"\n    );\n    const re = RegExp(p);\n\n    let filterData = regionData.filter((v) => v.toLowerCase().match(re));\n\n    setFilterRegionData(filterData);\n    setshowMenuBar(true);\n    setMenuText(e.target.value);\n  };\n  let handelMenuFocus = () => {\n    if (filterRegionData.length < 1) {\n      setFilterRegionData(regionData);\n    }\n\n    setshowMenuBar(true);\n  };\n  let handelSelector = () => {\n    if (filterRegionData.length > 0) {\n      setshowMenuBar(!showMenuBar);\n    } else {\n      setFilterRegionData(regionData);\n      setshowMenuBar(true);\n    }\n  };\n\n  let handelMenuClick = (e) => {\n    setMenuText(e.target.textContent);\n    setshowMenuBar(false);\n    setOldMenuText(e.target.textContent);\n  };\n\n  let getCheckedData = (e) => {\n    let global = [\"Global\"];\n\n    if (e === \"Global\") {\n      let sup1 = checkedData.filter((item) => item === e);\n      if (sup1.length > 0) {\n        setCheckedData([]);\n      } else {\n        setCheckedData(global);\n      }\n    } else {\n      let sup = checkedData.filter((item) => item === e);\n\n      if (sup.length > 0) {\n        setCheckedData(checkedData.filter((item) => item !== sup[0]));\n      } else {\n        let data = [...checkedData];\n        const index = data.indexOf(\"Global\");\n        if (index > -1) {\n          data.splice(index, 1);\n        }\n\n        setCheckedData([...data, e]);\n      }\n    }\n  };\n\n  let getFilterData = (e) => {\n    let sup = checkedData.filter((item) => item === e);\n    if (sup.length > 0) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  return (\n    <ClickAwayListener onClickAway={handleClickAwayFromSearchRegion}>\n      <div id=\"searchinputmain\">\n        <input\n          className={colorSelector ? \"searchInputDark\" : \"searchInput\"}\n          value={menuText}\n          onChange={handelRegionChange}\n          onFocus={handelMenuFocus}\n        />\n        {showMenuBar && (\n          <div className=\"selectorMenu\" style={{ zIndex: \"8000\" }}>\n            {filterRegionData.length > 0 &&\n              filterRegionData.map((item, index) => {\n                return (\n                  <div\n                    style={{ display: \"flex\", border: \"1px solid #c4c4c4\" }}\n                    key={index}\n                  >\n                    <Checkbox\n                      style={{ color: colorSelector ? \"black\" : \"#3F51B5\" }}\n                      onChange={() => getCheckedData(item)}\n                      checked={getFilterData(item)}\n                    />\n                    <p\n                    // onClick={handelMenuClick}\n                    >\n                      {item}\n                    </p>\n                  </div>\n                );\n              })}\n          </div>\n        )}\n\n        <ExpandMoreIcon\n          id={colorSelector ? \"searchinputiconDark\" : \"searchinputicon\"}\n          onClick={handelSelector}\n        />\n        <div id={colorSelector ? \"helloDark\" : \"hello\"}></div>\n      </div>\n    </ClickAwayListener>\n  );\n};\n\nexport default CustomSelectorWithTick;\n"]},"metadata":{},"sourceType":"module"}